from app.core.supabase import _client, _TABLE
from datetime import datetime, timezone

DESCRIPTIONS = {
    "lost-code": "「LOST CODE」は、自分だけが見えない数字を他のプレイヤーのヒントから推理する正体隠匿系カードゲームです。消去法と論理的思考で自分の数字を当てて勝利を目指しましょう。シンプルなルールながら、読み合いと推理が熱い一作です。",
    "fox-in-the-forest": "「The Fox in the Forest」は、2人専用のトリックテイキングゲームです。妖精の世界をテーマに、勝ちすぎると0点になるというユニークなルールが特徴。欲張らず、程よく勝つバランス感覚が求められる、戦略性の高いカードゲームです。",
    "grow-sky": "「グロウスカイ」は、空船士となって飛行船をカスタマイズするエンジンビルドゲームです。ダイスドラフトとタイル配置を駆使して15点獲得を目指します。自分だけの飛行船を育てる楽しさが魅力の作品です。",
    "little-town": "「リトルタウンビルダーズ」は、ワーカーを配置して資源を集め、建物を建設して町を発展させるボードゲームです。限られた手番で効率的に資源を管理し、勝利点を稼ぐ戦略が求められます。シンプルながら奥深いゲームです。",
    "origin-story": "「オリジンストーリー」は、プレイヤーが物語の起源を紡ぐカードゲームです。創造性と発想力を活かして、ユニークなストーリーを作り上げていく楽しさがあります。",
    "in-a-grove": "「藪の中」は、推理と嘘のブラフゲームです。プレイヤーは事件の真相を探りながら、自分に有利な証言を集めていきます。芥川龍之介の短編をモチーフにした、心理戦が楽しめる一作です。",
    "faraway": "「ファラウェイ」は、冒険者となって未知の地を探索するカードゲームです。美しいアートワークと共に、戦略的なカードプレイで得点を競います。手軽に遊べて奥深い、魅力的な作品です。",
    "tichu": "「ティチュー」は、パートナーと協力して手札を出し切る4人用のトリックテイキング系カードゲームです。「ティチュー」宣言による大逆転や、特殊カードの駆使が熱い、世界中で愛される名作です。",
    "trick-meister": "「トリックマイスター」は、毎ラウンドルールが変わるユニークなトリックテイキングゲームです。特殊ルールカードがゲームを予測不能にし、臨機応変な対応力が求められます。",
    "hack-clad": "「ハッククラッド」は、サイバーパンクな世界観のカードゲームです。ハッカーとなってシステムに侵入し、データを奪取していく戦略性が魅力です。",
    "scout": "「スカウト」は、手札の並び順を変えられない制約の中でカードを出していくカードゲームです。スカウト（相手のカードを取る）とショー（カードを出す）の選択が悩ましい、ドイツ年間ゲーム大賞ノミネート作品です。",
    "wizards-showdown": "「ウィザーズ・ショーダウン」は、魔法使いたちが呪文を唱えて戦うカードバトルゲームです。タイミングと読み合いが重要な、スピーディなゲーム展開が楽しめます。",
    "seven-wonders-dice": "「世界の七不思議ダイス」は、名作「世界の七不思議」をダイスゲーム化した作品です。ダイスを振って資源を集め、七不思議を建設していきます。手軽に遊べるのが魅力です。",
    "jumble-derby": "「ジャンブルダービー」は、動物たちによるカオスなレースゲームです。予測不能な展開と駆け引きが楽しめる、パーティ向けのボードゲームです。",
    "russian-railroads": "「ロシアンレイルロード」は、ロシアの鉄道網を建設する重量級ワーカープレイスメントゲームです。3つの路線を発展させながら、技術開発や工場建設で効率よく得点を稼いでいきます。戦略性の高い名作です。",
    "forest-shuffle": "「フォレストシャッフル」は、森の生態系をテーマにしたカードコンボゲームです。動物と植物のカードを組み合わせて、最も豊かな森を作り上げましょう。美しいアートワークも魅力の一つです。",
    "miyabi": "「雅々」は、日本庭園をテーマにした美しいタイル配置ゲームです。高さを活かした立体的な配置で、より多くの得点を目指します。シンプルながら悩ましい選択が楽しめます。",
    "jaipur": "「ジャイプル」は、インドの市場で商品を売買する2人用カードゲームです。ラクダや宝石、布地などを効率よく集めて売却し、対戦相手より多くのルピーを稼ぎましょう。駆け引きと戦略が熱い名作です。",
    "kyoso-bakutan": "「教祖爆誕」は、プレイヤーが新興宗教の教祖となって信者を集めるパーティゲームです。荒唐無稽な教義を唱えて、最も多くの信者を獲得した教祖が勝利します。笑いが絶えない一作です。",
    "trump-tricks-game": "「トランプ、トリックス、ゲーム！」は、様々なトリックテイキングゲームを収録したカードゲーム集です。一つのデッキで多彩なゲームが楽しめます。",
    "pina-colada-dice": "「ピニャ・コラーダイス」は、南国をテーマにしたダイスゲームです。材料を集めてカクテルを作り、得点を競います。気軽に楽しめるパーティゲームです。",
    "inferno": "「インフェルノ」は、カードを引き取らないよう立ち回る心理戦カードゲームです。場のカードより大きい同色カードを出し、出せなければ全て引き取り失点に。シンプルだけど熱いゲームです。",
    "yugami-girl": "「夕闘に笑う少女」は、ホラーテイストの推理ゲームです。夕暮れの学校を舞台に、謎めいた少女の正体を探っていきます。雰囲気抜群の世界観が魅力です。",
    "magnolia": "「マグノリア」は、花をテーマにした美しいセットコレクションゲームです。カードを集めて花束を作り、より高い得点を目指します。アートワークの美しさも楽しめます。",
    "odin": "「ODIN」は、北欧神話をテーマにしたカードゲームです。オーディンの力を借りて、壮大な神話の世界で戦いましょう。戦略と運のバランスが絶妙な作品です。",
    "professor-pearl": "「パール教授と47の謎」は、謎解き要素のあるカードゲームです。パール教授と共に様々な謎を解き明かしていく、頭脳派向けの一作です。",
    "camel-up": "「キャメルアップ」は、ラクダレースの勝者を予想する賭けゲームです。ラクダ同士が重なって移動するユニークなシステムで、予測不能な展開が楽しめます。ドイツ年間ゲーム大賞受賞作品です。",
    "deka-fortune": "「DEKA-月と太陽の占術譚」は、占いをテーマにしたカードゲームです。月と太陽の力を使って運命を読み解き、勝利を目指します。神秘的な雰囲気が魅力です。",
    "pit-deluxe": "「ピットデラックス」は、商品取引をテーマにした騒がしいカードゲームです。同じ商品のカードを集めるため、大声で交渉し合います。パーティで盛り上がること間違いなしの一作です。",
    "hitsugino-roi": "「棺呪（ヒツギノロイ）」は、ホラーテーマの推理ゲームです。呪いから逃れるために謎を解き、生還を目指します。緊張感あふれるゲーム体験が楽しめます。",
    "heart-of-crown": "「ハートオブクラウン」は、姫を擁立して帝位を目指すデッキ構築ゲームです。様々な能力を持つカードを獲得し、最も効率的なデッキを構築して勝利を目指します。日本発の名作デッキビルダーです。",
    "royal-turf": "「ロイヤルターフ」は、競馬をテーマにした賭けゲームです。馬に賭けて、レースの結果で配当を得ます。クニツィア作のシンプルながら熱い一作です。",
    "mountain-king": "「マウンテンキング」は、ドワーフたちが山に王国を築くボードゲームです。トロールに奪われた先祖の地を取り戻し、栄光の玉座を目指します。戦略性の高いゲームです。",
    "qe": "「QE」は、何でもありの競りゲームです。無限にお金を使える中央銀行総裁として、最も経済を活性化させつつ、使いすぎには注意が必要です。ユニークな経済ゲームです。",
    "conic": "「CONIC」は、幾何学模様をテーマにしたアブストラクトゲームです。シンプルなルールながら、深い戦略性が楽しめます。美しいコンポーネントも魅力です。",
    "jungle-game": "「ジャングルの秘宝」は、5種類の動物ゲームが楽しめるセットです。天敵とランクの関係を使った様々なゲームで遊べます。",
    "ice-fall": "「ICE FALL」は、兄弟クライマーで氷壁を登るレースゲームです。バッティング競りシステムで、相手の行動を読みながら先に頂上を目指します。",
    "century-spice-road": "「センチュリー：スパイスロード」は、スパイス商人となって交易するカードゲームです。スパイスを集め、より価値の高いものに変換して得点カードを獲得します。シンプルで奥深い名作です。",
    "was-stich": "「ヴァス・シュティッヒ」は、切り札を推理しながらプレイするトリックテイキングゲームです。各プレイヤーの課題達成を目指す、頭脳派向けの一作です。",
    "sanrentan": "「サンレンタン」は、相手の価値観を読んで1位から3位を当てる心理戦ゲームです。お題に対する順位付けを予想し、見事当てれば高得点。コミュニケーションも盛り上がります。",
    "jinx": "「ジンクス」は、ダイスを振ってカードを獲得するゲームです。ただし残ったカードと同色のカードは没収されてしまいます。逆転の可能性がある、スリリングなゲームです。",
    "hitster": "「HITSTER」は、Spotifyと連携した音楽クイズゲームです。流れてくる曲を聴いて、自分のタイムラインに年代順で並べていきます。音楽好きにはたまらないパーティゲームです。",
    "druids": "「Druids」は、5色のカードを集めるトリックテイキングゲームです。ただし5色揃うと0点になってしまうので、相手に5色目を押し付ける駆け引きが重要です。",
    "mit-list-und-tucke": "「知略悪略」は、2色だけを集めることを目指すトリックテイキングゲームです。独特な得点計算システムで、戦略的なプレイが求められます。",
    "papayoo": "「パパヨー」は、減点式トリックテイキングゲームです。パヨースートと毎ラウンド変わるパパヨーカードを避けて、最少失点を目指します。",
    "tindahan": "「ティンダハン」は、フィリピンの果物市場をテーマにしたトリックテイキングゲームです。トリックで果物を仕入れて売却し、最も稼いだプレイヤーが勝利します。",
    "five-cucumbers": "「5本のキュウリ」は、最終トリックで負けることを目指す逆転発想のトリックテイキングです。序盤はカードを温存し、最後に低いカードで負けを狙います。",
    "five-towers": "「ファイブタワーズ」は、競りで獲得したカードで5つの塔を建設するゲームです。降順にカードを積み上げ、0を出すと得点が2倍になります。",
    "tiger-and-dragon": "「タイガー＆ドラゴン」は、ごいた系の攻防牌ゲームです。攻めて受けて、手牌を先に出し切ったプレイヤーが勝利します。シンプルながら読み合いが熱い一作です。",
    "palm-dungeon": "「てのひらダンジョン」は、手のひらサイズのダンジョン探索ゲームです。カード構成を記憶しながら、効率よくダンジョンを攻略していきます。",
    "fischen": "「FISCHEN」は、海釣りをテーマにしたトリックテイキング×デッキ構築ゲームです。獲得したカードが次のラウンドの手札になる、ユニークなシステムが特徴です。",
    "rikka": "「六華（リッカ）」は、麻雀のエッセンスをシンプルに再構築した牌ゲームです。6枚の手牌で役を完成させ、より高い得点を目指します。麻雀初心者にもおすすめです。",
}

result = _client.table(_TABLE).select('id, slug, title').execute()
games = result.data

updated_count = 0
for game in games:
    slug = game['slug']
    if slug and slug in DESCRIPTIONS:
        _client.table(_TABLE).update({
            'description': DESCRIPTIONS[slug],
            'updated_at': datetime.now(timezone.utc).isoformat()
        }).eq('id', game['id']).execute()
        print(f"Updated: {game['title']}")
        updated_count += 1

print(f"\nTotal updated: {updated_count}")
